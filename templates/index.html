<!DOCTYPE HTML><html lang=en><head><meta charset=UTF-8><title>Doora</title><link rel=stylesheet href="//cdn.bootcss.com/dropzone/3.9.0/css/dropzone.css"><style type=text/css>body{background-color:#f4f4f4}.logo{display:block;width:80px;margin:30px auto}#dropzone.dropzone{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;width:800px;height:500px}.qrcode{position:absolute;top:75px;right:100px}.download-url{width:700px;height:50px;position:absolute;left:40px;bottom:30px;font-size:35px;text-align:center}#dropzone.success .dz-details{top:50px;left:100px;width:200px;height:200px}#dropzone.success .dz-details img{width:200px;height:200px}#dropzone.success .dz-filename span{position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;width:150px;height:10px}</style><body><a href="" class=logo><img src=static/logo.png alt="Logo"></a><form id=dropzone class=dropzone action=//up.qbox.me></form><script type=text/x-template id=result-panel-tmpl><div id="qrcode-container" class="qrcode"></div>
        <input type="text" class="download-url" value="${download_url}" readonly="readonly"  /></script><script type=text/javascript>function asyncLoadScript(t){return function(n,r){var e=document.createElement("script");e.type="text/javascript",e.src=t,e.onload=n,e.onerror=r,e.onreadystatechange=function(){var t=this.readyState;("loaded"===t||"complete"===t)&&(e.onreadystatechange=null,n())},head.insertBefore(e,head.firstChild)}}!function(t){t=t||{};var n,r,e={};n=function(t,r,o){var a=t.halt=!1;t.error=function(t){throw t},t.next=function(n){if(n&&(a=!1),!t.halt&&r&&r.length){var o=r.shift(),i=o.shift();a=!0;try{e[i].apply(t,[o,o.length,i])}catch(c){t.error(c)}}return t};for(var i in e)"function"!=typeof t[i]&&!function(o){t[o]=function(){var i=Array.prototype.slice.call(arguments);if("onError"===o){if(r)return e.onError.apply(t,[i,i.length]),t;var c={};return e.onError.apply(c,[i,i.length]),n(c,null,"onError")}return i.unshift(o),r?(t.then=t[o],r.push(i),a?t:t.next()):n({},[i],o)}}(i);return o&&(t.then=t[o]),t.call=function(n,e){e.unshift(n),r.unshift(e),t.next(!0)},t.next()},r=t.addMethod=function(r){for(var o=Array.prototype.slice.call(arguments),a=o.pop(),i=0,c=o.length;c>i;i++)"string"==typeof o[i]&&(e[o[i]]=a);--c||(e["then"+r.substr(0,1).toUpperCase()+r.substr(1)]=a),n(t)},r("chain",function(t){var n=this,r=function(){if(!n.halt){if(!t.length)return n.next(!0);try{null!=t.shift().call(n,r,n.error)&&r()}catch(e){n.error(e)}}};r()}),r("run",function(t,n){for(var r=this,e=function(){r.halt||--n||r.next(!0)},o=function(t){r.error(t)},a=0,i=n;!r.halt&&i>a;a++)null!=t[a].call(r,e,o)&&e()}),r("defer",function(t){var n=this;setTimeout(function(){n.next(!0)},t.shift())}),r("onError",function(t,n){var r=this;this.error=function(e){r.halt=!0;for(var o=0;n>o;o++)t[o].call(r,e)}})}(this);var head=document.getElementsByTagName("head")[0]||document.documentElement;addMethod("load",function(t,n){for(var r=[],e=0;n>e;e++)(function(n){r.push(asyncLoadScript(t[n]))})(e);this.call("run",r)});</script><script type=text/javascript>function randomString(e){for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[],t=0;e>t;t++)n.push(o.charAt(Math.floor(Math.random()*o.length)));return n.join("")}var zepto_js="//cdn.bootcss.com/zepto/1.0rc1/zepto.min.js",qrcode_js="//cdn.bootcss.com/jquery.qrcode/1.0/jquery.qrcode.min.js",dropzone_js="//cdn.bootcss.com/dropzone/3.9.0/dropzone.min.js";load(zepto_js).thenRun(function(){window.jQuery=$,load(qrcode_js)}),load(dropzone_js).thenRun(function(){function e(){$("#dropzone").removeClass("success"),$(".dz-success").remove(),$(".dz-error").remove(),$("#qrcode-container").remove(),$(".download-url").remove()}function o(e){var o=$("#result-panel-tmpl").html(),t=o.replace("${download_url}",e);$("#dropzone").addClass("success").append(t),$(".download-url")[0].select(),n(e),$(".dz-preview").animate({width:"700px",height:"330px"})}function n(e){$("#qrcode-container").qrcode({text:e,width:250,height:250})}Dropzone.autoDiscover=!1;var t=new Dropzone("#dropzone",{method:"post",maxFilesize:20,thumbnailWidth:200,thumbnailHeight:200,init:function(){this.on("sending",function(e,o,n){var t="";e.name?t=e.name.indexOf(".")>-1?e.name.split(".").pop():"":e.type&&(t=e.type.indexOf("/")>-1?e.type.split("/").pop():"");var r=randomString(5),d=r+(t?"."+t:"");n.append("token","{{ up_token }}"),n.append("key",d),n.append("x:key",d)}),this.on("success",function(e,n){o(n.download_url)}),this.on("addedfile",function(){e()})}});$(document).on("paste",function(e){t.paste(e)})});</script>
